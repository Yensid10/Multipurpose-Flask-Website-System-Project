<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: popUp.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: popUp.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
/**
 * Javascript function for Pop-Up used in menu home screen
 * 
 *
 * @author - Ethan Chandler
 */

var tableNumber = null;

/**
*
* This function submits the form with the selected table number and allergens via an AJAX request to the server to hide items containing dairy.
*
* It then hides the selected items on the page and hides the popup.
*/
function submitPopup() {
	var selectElement = document.getElementById('table-number-select');
	tableNumber = selectElement.options[selectElement.selectedIndex].value;

    var allergenInputs = document.getElementsByName('allergen');
	var allergens = [];
	for (var i = 0; i &lt; allergenInputs.length; i++) {
		if (allergenInputs[i].checked) {
			allergens.push(allergenInputs[i].value);
		}
	}
	console.log(tableNumber);
	console.log('tableNumber:', tableNumber + ' allergens:', allergens);

	if (tableNumber !== null &amp;&amp; tableNumber !== '') {
		if (!isNaN(tableNumber) &amp;&amp; tableNumber >= 0) {
			$.ajax({
				type: "POST",
				url: "/hideDairy",
				data: JSON.stringify({
					"tableNumber": tableNumber,
					"allergens": allergens
				}),
				contentType: "application/json",
				dataType: 'json'
			}).done(function (response) {
				console.log('this is my response:', response);
				var data = response.data;
				console.log(tableNumber);
				hide(data);
				document.querySelector(".popup").style.display = "none";
				document.querySelector("body").style.overflow = "auto";
			});
		}
	}
}

/**
*
* This function hides the selected items on the page by setting their display style to "none".
* @param {Array} data - An array of item IDs to be hidden.
*/



function hide(data) {
	if (data != null) {
	  for (var i = 0; i &lt; data.length; i++) {
		console.log(data[i]);
		var elements = document.getElementsByClassName(data[i]);
		console.log('elements are now changed to:', data[i]);
		for (var x = 0; x &lt; elements.length; x++) {
		  if (elements[x].style.display === "none") {
			elements[x].style.display = "block";
		  } else {
			elements[x].style.display = "none";
		  }
		}
	  }
	}
  }</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="%2520Creates%2520a%2520new%2520order%2520queue..html">- Creates a new order queue.</a></li><li><a href="orderNotes.html">orderNotes</a></li><li><a href="orderQueue.html">orderQueue</a></li></ul><h3>Global</h3><ul><li><a href="global.html#OnePageNav">OnePageNav</a></li><li><a href="global.html#acceptOrderButton">acceptOrderButton</a></li><li><a href="global.html#addItemToOrder">addItemToOrder</a></li><li><a href="global.html#addPingToQueue">addPingToQueue</a></li><li><a href="global.html#cancelOrderButton">cancelOrderButton</a></li><li><a href="global.html#carousel">carousel</a></li><li><a href="global.html#completeOrderButton">completeOrderButton</a></li><li><a href="global.html#contentWayPoint">contentWayPoint</a></li><li><a href="global.html#counter">counter</a></li><li><a href="global.html#flashElement">flashElement</a></li><li><a href="global.html#fullHeight">fullHeight</a></li><li><a href="global.html#getBill">getBill</a></li><li><a href="global.html#hide">hide</a></li><li><a href="global.html#initDatePicker">initDatePicker</a></li><li><a href="global.html#initMagnificPopup">initMagnificPopup</a></li><li><a href="global.html#initTimePicker">initTimePicker</a></li><li><a href="global.html#loader">loader</a></li><li><a href="global.html#rangeSlider">rangeSlider</a></li><li><a href="global.html#refreshTables">refreshTables</a></li><li><a href="global.html#removeOrderItem">removeOrderItem</a></li><li><a href="global.html#scrollWindow">scrollWindow</a></li><li><a href="global.html#sendCancel">sendCancel</a></li><li><a href="global.html#sendToKitchen">sendToKitchen</a></li><li><a href="global.html#submitPopup">submitPopup</a></li><li><a href="global.html#tableNumber">tableNumber</a></li><li><a href="global.html#updateOrder">updateOrder</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Tue Mar 21 2023 15:20:30 GMT+0000 (Greenwich Mean Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
